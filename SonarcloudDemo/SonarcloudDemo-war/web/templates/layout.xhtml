<?xml version="1.0" encoding="UTF-8"?>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/XHtml.xhtml to edit this template
-->
<!DOCTYPE html>
<html lang='en'
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:b="http://bootsfaces.net/ui">
  <h:head>
    <title>Sonar Cloud Demo</title>
    <meta name="Eric Babcock"/>
    <link rel="stylesheet" href="#{resource['css:global.css']}"/>
  </h:head>
  <h:body style="padding:60px">
    <b:navBar brand="${login.user.username}" 
              brandHref="#{resource['page:index.xhtml']}" 
              fixed="top"
              inverse="true">
      <b:navbarLinks>
        <b:navLink value="Home" outcome="Index"></b:navLink>
        <b:navLink value="About" outcome="About"></b:navLink>
        <b:navLink value="Content" outcome="Content"></b:navLink>
      </b:navbarLinks>
      <b:form 
        styleClass="navbar-form navbar-right"
        id="loginForm"
        rendered="#{!login.loggedIn}"
        onsubmit ="document.getElementById('loginForm').action='j_security_check';">
        <f:validateBean>
            <b:inputText 
              placeholder = "username" 
              fieldId ="username"
              id="username" 
              name = "j_username"
              required = "true"/>
            <b:inputSecret 
              placeholder = "password" 
              id="passwordDiv"
              type="password"
              fieldId="password"
              name="j_password"
              required="true"/>
            <b:commandButton 
              action="#{login.login}" 
              value="Login" 
              look="success"
              ajax ="false"
              type="submit"
              onclick="#{login.login}"
              icon="chevron-right" 
              iconAlign="right"/>
          </f:validateBean>
      </b:form>
      <h:form>
        <h:commandButton 
        styleClass="navbar-form navbar-right"
        action="${login.logout()}"
        rendered="#{login.loggedIn}"
        value="Logout"/>
      </h:form>
    </b:navBar>
    <b:container>
      <h:panelGroup>
</h:panelGroup>
      <ui:insert name='content'/>           
    </b:container>
  </h:body>
</html>